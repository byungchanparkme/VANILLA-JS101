{"version":3,"sources":["webpack://mvc-todo-es6/./js/app.js","webpack://mvc-todo-es6/./js/controller.js","webpack://mvc-todo-es6/./js/model.js","webpack://mvc-todo-es6/./js/storage.js","webpack://mvc-todo-es6/./js/template.js","webpack://mvc-todo-es6/./js/view.js","webpack://mvc-todo-es6/webpack/bootstrap","webpack://mvc-todo-es6/webpack/runtime/define property getters","webpack://mvc-todo-es6/webpack/runtime/hasOwnProperty shorthand","webpack://mvc-todo-es6/webpack/runtime/make namespace object","webpack://mvc-todo-es6/webpack/startup"],"names":["App","storage","Storage","model","Model","template","Template","view","View","controller","Controller","showAll","bind","title","addItem","item","removeItem","id","toggleComplete","completed","editItem","editItemSave","removeCompletedItems","read","data","render","trim","create","remove","update","length","forEach","query","callback","queryType","findAll","parseInt","find","newTodo","save","name","_dbName","localStorage","getItem","todos","setItem","JSON","stringify","call","parse","updateData","targetTodo","map","todo","Date","getTime","push","filter","targetTodos","q","defaultTemplate","i","checked","replace","$todoList","document","querySelector","$todoInput","$clearCompleted","event","handler","addEventListener","value","target","className","targetId","_getItemId","parentNode","console","log","type","tagName","toLowerCase","keyCode","_itemId","viewCmd","viewCommands","showEntries","_addItem","clearNewTodo","_removeItem","elementComplete","_elementComplete","_editItem","editItemDone","_editItemDone","innerHTML","insert","element","li","dataset","listItem","removeChild","input","createElement","appendChild","focus","labels","querySelectorAll","label","textContent"],"mappings":"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","file":"main.js","sourcesContent":["import Storage from \"./storage.js\"\r\nimport Model from \"./model.js\"\r\nimport Template from \"./template.js\"\r\nimport View from \"./view.js\"\r\nimport Controller from \"./controller.js\"\r\n\r\nclass App {\r\n  constructor() {\r\n    this.storage = new Storage(\"todos\")\r\n    this.model = new Model(this.storage)\r\n    this.template = new Template()\r\n    this.view = new View(this.template)\r\n    this.controller = new Controller(this.model, this.view)\r\n  }\r\n}\r\n\r\nnew App()\r\n","class Controller {\r\n  constructor(model, view) {\r\n    this.model = model\r\n    this.view = view\r\n    this.showAll()\r\n\r\n    this.view.bind(\"newTodo\", (title) => {\r\n      this.addItem(title)\r\n    })\r\n    this.view.bind(\"itemRemove\", (item) => {\r\n      this.removeItem(item.id)\r\n    })\r\n    this.view.bind(\"itemToggle\", (item) => {\r\n      this.toggleComplete(item.id, item.completed)\r\n    })\r\n    this.view.bind(\"itemEdit\", (item) => {\r\n      this.editItem(item.id)\r\n    })\r\n    this.view.bind(\"itemEditDone\", (item) => {\r\n      this.editItemSave(item.id, item.title)\r\n    })\r\n    this.view.bind(\"removeCompleted\", () => {\r\n      this.removeCompletedItems()\r\n    })\r\n  }\r\n\r\n  showAll() {\r\n    this.model.read((data) => {\r\n      this.view.render(\"showEntries\", data)\r\n    })\r\n  }\r\n\r\n  addItem(title) {\r\n    if (title.trim() === \"\") return\r\n    // 새로운 데이터를 로컬 스토리지에 저장하고 인풋 창을 초기화한다.\r\n    this.model.create(title, (title) => {\r\n      this.view.render(\"clearNewTodo\", title)\r\n    })\r\n    // 새로운 데이터가 반영된 데이터를 읽어들여 이 데이터를 토대로 뷰를 렌더링한다.\r\n    this.showAll()\r\n  }\r\n\r\n  removeItem(id) {\r\n    this.model.remove(id, (id) => {\r\n      this.view.render(\"removeItem\", id)\r\n    })\r\n  }\r\n\r\n  toggleComplete(id, completed) {\r\n    this.model.update(id, { completed: completed }, (data) => {\r\n      this.view.render(\"elementComplete\", {\r\n        id: data.id,\r\n        completed: data.completed,\r\n      })\r\n    })\r\n  }\r\n\r\n  editItem(id) {\r\n    this.model.read(id, (data) => {\r\n      this.view.render(\"editItem\", { id: id, title: data[0].title })\r\n    })\r\n  }\r\n\r\n  editItemSave(id, title) {\r\n    title = title.trim()\r\n\r\n    if (title.length !== 0) {\r\n      this.model.update(id, { title: title }, (data) => {\r\n        this.view.render(\"editItemDone\", {\r\n          id: data.id,\r\n          title: data.title,\r\n        })\r\n      })\r\n    } else {\r\n      this.removeItem(id)\r\n    }\r\n  }\r\n\r\n  removeCompletedItems() {\r\n    this.model.read({ completed: true }, (data) => {\r\n      data.forEach((item) => this.removeItem(item))\r\n    })\r\n  }\r\n}\r\n\r\nexport default Controller\r\n","class Model {\r\n  constructor(storage) {\r\n    this.storage = storage\r\n  }\r\n\r\n  read(query, callback) {\r\n    const queryType = typeof query\r\n    callback = callback || function () {}\r\n\r\n    if (queryType === \"function\") {\r\n      callback = query\r\n      return this.storage.findAll(callback)\r\n    } else if (queryType === \"number\" || queryType === \"string\") {\r\n      query = parseInt(query, 10)\r\n      return this.storage.find({ id: query }, callback)\r\n    } else {\r\n      return this.storage.find(query, callback)\r\n    }\r\n  }\r\n  create(title, callback) {\r\n    title = title || \"\"\r\n    callback = callback || function () {}\r\n\r\n    const newTodo = {\r\n      title: title.trim(),\r\n      completed: false,\r\n    }\r\n\r\n    this.storage.save(newTodo, callback)\r\n  }\r\n\r\n  remove(id, callback) {\r\n    this.storage.remove(id, callback)\r\n  }\r\n\r\n  update(id, data, callback) {\r\n    this.storage.save(data, callback, id)\r\n  }\r\n}\r\n\r\nexport default Model\r\n","class Storage {\r\n  constructor(name) {\r\n    this._dbName = name\r\n    if (!localStorage.getItem(name)) {\r\n      const data = {\r\n        todos: [],\r\n      }\r\n      localStorage.setItem(this._dbName, JSON.stringify(data))\r\n    }\r\n  }\r\n  findAll(callback) {\r\n    callback.call(this, JSON.parse(localStorage.getItem(this._dbName)).todos)\r\n  }\r\n  save(updateData, callback, id) {\r\n    const data = JSON.parse(localStorage.getItem(this._dbName))\r\n    let targetTodo\r\n\r\n    if (id) {\r\n      data.todos = data.todos.map((todo) => {\r\n        if (todo.id === id) {\r\n          todo = { ...todo, ...updateData }\r\n          targetTodo = todo\r\n        }\r\n        return todo\r\n      })\r\n      localStorage.setItem(this._dbName, JSON.stringify(data))\r\n      callback.call(this, targetTodo)\r\n    } else {\r\n      updateData.id = new Date().getTime()\r\n\r\n      data.todos.push(updateData)\r\n      localStorage.setItem(this._dbName, JSON.stringify(data))\r\n      callback.call(this, [updateData])\r\n    }\r\n  }\r\n  remove(id, callback) {\r\n    const data = JSON.parse(localStorage.getItem(this._dbName))\r\n    let todos = data.todos\r\n    todos = todos.filter((todo) => todo.id !== id)\r\n    localStorage.setItem(this._dbName, JSON.stringify(data))\r\n    callback.call(this, id)\r\n  }\r\n\r\n  find(query, callback) {\r\n    if (!callback) return\r\n\r\n    const data = JSON.parse(localStorage.getItem(this._dbName))\r\n    let todos = data.todos\r\n    const targetTodos = todos.filter((todo) => {\r\n      for (let q in query) {\r\n        if (todo[q] !== query[q]) return false\r\n        return true\r\n      }\r\n    })\r\n    callback.call(this, targetTodos)\r\n  }\r\n}\r\n\r\nexport default Storage\r\n","class Template {\r\n  constructor() {\r\n    this.defaultTemplate = `\r\n      <li data-id=\"{{id}}\" class=\"{{completed}}\">\r\n        <div class=\"view\">\r\n          <input class=\"toggle\" type=\"checkbox\" {{checked}} />\r\n          <label>{{title}}</label>\r\n          <button class=\"destroy\"></button>\r\n        </div>\r\n      </li>\r\n    `\r\n  }\r\n\r\n  insert(data) {\r\n    if (data.length === 0) return \"\"\r\n    let view = \"\"\r\n    let template\r\n    for (let i = 0; i < data.length; i++) {\r\n      template = this.defaultTemplate\r\n      let completed = \"\"\r\n      let checked = \"\"\r\n\r\n      if (data[i].completed) {\r\n        completed = \"completed\"\r\n        checked = \"checked\"\r\n      }\r\n\r\n      template = template.replace(\"{{id}}\", data[i].id)\r\n      template = template.replace(\"{{title}}\", data[i].title)\r\n      template = template.replace(\"{{completed}}\", completed)\r\n      template = template.replace(\"{{checked}}\", checked)\r\n      view = view + template\r\n    }\r\n\r\n    return view\r\n  }\r\n}\r\n\r\nexport default Template\r\n","class View {\r\n  constructor(template) {\r\n    this.template = template\r\n\r\n    this.$todoList = document.querySelector(\".todo-list\")\r\n    this.$todoInput = document.querySelector(\".new-todo\")\r\n    this.$clearCompleted = document.querySelector(\".clear-completed\")\r\n  }\r\n\r\n  bind(event, handler) {\r\n    if (event === \"newTodo\") {\r\n      this.$todoInput.addEventListener(\"change\", () => {\r\n        handler(this.$todoInput.value)\r\n      })\r\n    } else if (event === \"itemRemove\") {\r\n      this.$todoList.addEventListener(\"click\", (event) => {\r\n        const target = event.target\r\n        if (target.className === \"destroy\") {\r\n          const targetId = this._getItemId(target.parentNode, \"li\")\r\n          console.log(targetId)\r\n          handler({ id: targetId })\r\n        }\r\n      })\r\n    } else if (event === \"itemToggle\") {\r\n      this.$todoList.addEventListener(\"click\", (event) => {\r\n        const target = event.target\r\n        if (target.type === \"checkbox\") {\r\n          const targetId = this._getItemId(target)\r\n          handler({ id: targetId, completed: target.checked })\r\n        }\r\n      })\r\n    } else if (event === \"itemEdit\") {\r\n      this.$todoList.addEventListener(\"click\", (event) => {\r\n        const target = event.target\r\n        if (target.tagName.toLowerCase() === \"label\") {\r\n          const targetId = this._getItemId(target)\r\n          handler({ id: targetId })\r\n        }\r\n      })\r\n    } else if (event === \"itemEditDone\") {\r\n      this.$todoList.addEventListener(\"keypress\", (event) => {\r\n        if (event.keyCode === 13) {\r\n          const target = event.target\r\n          const targetId = this._itemId(target)\r\n          handler({ id: targetId, title: target.value })\r\n        }\r\n      })\r\n    } else if (event === \"removeCompleted\") {\r\n      this.$clearCompleted.addEventListener(\"click\", () => {\r\n        handler()\r\n      })\r\n    }\r\n  }\r\n\r\n  render(viewCmd, data) {\r\n    const viewCommands = {\r\n      showEntries: () => {\r\n        this._addItem(data)\r\n      },\r\n      clearNewTodo: () => {\r\n        this.$todoInput.value = \"\"\r\n      },\r\n      removeItem: () => {\r\n        this._removeItem(data)\r\n      },\r\n      elementComplete: () => {\r\n        this._elementComplete(data.id, data.completed)\r\n      },\r\n      editItem: () => {\r\n        this._editItem(data.id, data.title)\r\n      },\r\n      editItemDone: () => {\r\n        this._editItemDone(data.id, data.title)\r\n      },\r\n    }\r\n    viewCommands[viewCmd]()\r\n  }\r\n\r\n  _addItem(data) {\r\n    this.$todoList.innerHTML = this.template.insert(data)\r\n  }\r\n\r\n  _getItemId(element, tagName) {\r\n    let li\r\n    if (tagName) {\r\n      if (element.parentNode.tagName.toLowerCase() === tagName.toLowerCase()) {\r\n        li = element.parentNode\r\n      }\r\n    } else {\r\n      li = element.parentNode.parentNode\r\n    }\r\n    return parseInt(li.dataset.id, 10)\r\n  }\r\n\r\n  _itemId(element) {\r\n    let li\r\n    li = element.parentNode\r\n    return parseInt(li.dataset.id, 10)\r\n  }\r\n\r\n  _removeItem(id) {\r\n    const listItem = document.querySelector('[data-id=\"' + id + '\"]')\r\n    if (listItem) {\r\n      this.$todoList.removeChild(listItem)\r\n    }\r\n  }\r\n\r\n  _elementComplete(id, completed) {\r\n    const listItem = document.querySelector('[data-id=\"' + id + '\"]')\r\n    if (listItem) {\r\n      listItem.className = completed ? \"completed\" : \"\"\r\n    }\r\n  }\r\n\r\n  _editItem(id, title) {\r\n    const listItem = document.querySelector('[data-id=\"' + id + '\"]')\r\n    if (listItem) {\r\n      listItem.className += \"editing\"\r\n\r\n      const input = document.createElement(\"input\")\r\n      input.className = \"edit\"\r\n\r\n      listItem.appendChild(input)\r\n      input.focus()\r\n      input.value = title\r\n    }\r\n  }\r\n\r\n  _editItemDone(id, title) {\r\n    const listItem = document.querySelector('[data-id=\"' + id + '\"]')\r\n    if (listItem) {\r\n      const input = document.querySelector(\"input.edit\", listItem)\r\n      listItem.removeChild(input)\r\n      listItem.className = listItem.className.replace(\"editing\", \"\")\r\n\r\n      const labels = document.querySelectorAll(\"label\")\r\n      labels.forEach((label) => {\r\n        if (label.parentNode.parentNode === listItem) {\r\n          label.textContent = title\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport default View\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n__webpack_require__(\"./js/app.js\");\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}